# Description:
#  test rct sequence: txt -> digi -> txt
#  starting with data asci files verify identity with output

process RCTtxt2txt  = {
    
    source = EmptySource {
   	untracked int32 maxEvents = 64
    }   

    service = MessageLogger {
	untracked PSet detailedInfo.txt = { 
	    untracked string threshold = "DEBUG" } 
	untracked vstring debugModules 	
	= { "rctDigiToRctText", "rctTextToRctDigi" }
    }
    
    # txt->digi
    include "L1Trigger/TextToDigi/data/RctTextToRctDigi.cfi"
    replace rctTextToRctDigi.TextFileName = "data_mc/testMC_"

    # digi->txt
    include "L1Trigger/TextToDigi/data/RctDigiToRctText.cfi"
    replace rctDigiToRctText.RctInputLabel = rctTextToRctDigi
    replace rctDigiToRctText.TextFileName  = "data_out/testMC_"

    path p ={rctTextToRctDigi, rctDigiToRctText}

    module outputEvents = PoolOutputModule {
	untracked string fileName = "testRctText2Text.root"
    }
    
    endpath outpath = {outputEvents}
}
