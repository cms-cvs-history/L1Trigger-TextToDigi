# Config file description:
#  test RCT SourceCard sequence: digi -> source -> digi
#  allowing comparison of input and output RCT digi collections

process SCdigi2digi = {
    
    source = PoolSource {
	untracked vstring fileNames = 	
	{'rfio:/castor/cern.ch/user/n/nuno/l1emul/single_e_L1CaloEmul.root'}
	untracked int32  maxEvents = 10
    }
    
    service = MessageLogger {
	untracked PSet detailedInfo.txt = { 
	    untracked string threshold = "DEBUG" } 
	untracked vstring debugModules  = { "" }
    }
    
    # digi->source
    include "L1Trigger/TextToDigi/data/SourceCardTextToRctDigi.cfi"
    replace rctDigiToSourceCardText.RctInputLabel = L1RCTRegionSumsEmCands
    replace rctDigiToSourceCardText.TextFileName 
    = "RctDigiToSourceCardText.dat"  

    # source->digi
    include "L1Trigger/TextToDigi/data/RctDigiToSourceCardText.cfi"
    replace sourceCardTextToRctDigi.TextFileName   
    = "RctDigiToSourceCardText.dat"
    replace sourceCardTextToRctDigi.SkipEvents = 0
    
    path p = {rctDigiToSourceCardText, sourceCardTextToRctDigi}
    
    module outputEvents = PoolOutputModule {
	untracked string fileName = "testSCDigi2Digi.root"
	untracked vstring outputCommands = {"keep *"}
    }
    
    endpath outpath = {outputEvents}

}

